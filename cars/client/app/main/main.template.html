<form name="carOptions" class="form-horizontal" ng-if="ready" novalidate>
  <div class="form-group">
    <label class="col-sm-2 control-label" for="type">Type</label>
    <div class="col-sm-10">
      <label class="radio-inline" ng-repeat="option in options['configurationTypes']">
        <input id="type" name="inlineRadioType" ng-model="myData.type" type="radio" required
               ng-value="option.value" ng-change="changeType()">{{option.label}}
      </label>
      <div class="alert-error" ng-show="carOptions.inlineRadioType.$dirty">
        <span class="error" ng-show="carOptions.inlineRadioType.$error.required">
          Required field</span>
      </div>
    </div>
  </div>

   <form-element
    form="carOptions"
    name="type"
    type="radio"
    label="Type"
    model="myData.type"
    options="options['configurationTypes']"
    required="true"></form-element>
  <form-element
    form="carOptions"
    name="bodyEngine"
    type="select"
    label="Body Engine"
    model="myData.bodyEngine"
    options="options['bodyEngines']"
    disabled="myData.type=='sport'"
    required="true"></form-element>
  <form-element
    form="carOptions"
    name="engine"
    type="select"
    label="Engine"
    model="myData.engine"
    options="options['engines']"
    disabled="myData.type=='sport'"
    required="true"></form-element>
  <form-element
    form="carOptions"
    name="transmission"
    type="select"
    label="Transmission"
    model="myData.transmission"
    options="options['transmissions']"
    disabled="myData.type=='sport'"
    required="true"></form-element>
  <form-element
    form="carOptions"
    name="finish"
    type="select"
    label="Finish"
    model="myData.finish"
    options="options['finishes']"
    disabled="myData.type=='sport'"
    required="true"></form-element>
  <form-element
    form="carOptions"
    name="tires"
    type="select"
    label="Tyres"
    model="myData.tires"
    options="options['tires']"
    disabled="myData.type=='sport'"
    required="true"></form-element>
  <form-element
    form="carOptions"
    name="color"
    type="select"
    label="Color"
    model="myData.color"
    options="options['colors']"
    disabled="myData.type=='sport'"
    required="true"></form-element>
  <form-element
    form="carOptions"
    name="colorSport"
    type="select"
    label="Color Sport"
    model="myData.colorSport"
    options="options['colorsSport']"
    hide="myData.type!='sport'"
    required="true"></form-element>
  <form-element
    form="carOptions"
    name="extras"
    type="checkbox"
    label="Extras"
    model="myData.extras"
    options="options['extras']"
    disabled="myData.type=='sport'"></form-element>
  <form-element
    form="carOptions"
    name="comments"
    type="text"
    label="Comments"
    model="myData.comments"
    required="true"></form-element>
  <form-element
    form="carOptions"
    name="cp"
    type="input"
    label="CP"
    model="myData.cp"
    required="true"
    inputtype="text"></form-element>
  <form-element
    form="carOptions"
    name="email"
    type="input"
    label="Email"
    model="myData.email"
    required="true"
    inputtype="email"></form-element>


  <button type="submit" class="btn btn-primary" ng-disabled="!carOptions.$valid" ng-click="carOptions.$valid && sendForm()">SEND</button>
</form>

<div ng-if="error">
  ERROR GENERATING THE FORM
</div>
<div ng-if="!ready && !error">
  LOADING THE FORM
</div>
<div ng-if="showModal && ready && !error" class="result">
  <div class="result-box">
    <div class="row">
      <div class="col-lg-12">
        <div class="result-box-content">
          <p ng-if="sendingForm">Enviando...</p>

          <p ng-if="successForm">Hemos recibido correctamente tu solicitud</p>

          <p ng-if="errorForm">Ocurrio un error al procesar el formulario.</p>

          <div class="row">
            <div class="col-sm-2 col-sm-offset-5">
              <button ng-click="closeModal()">Cerrar</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<hr>
{{options}}
<hr>
{{myData}}

